<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Board">

<!-- 글 1 건 등록 -->
<insert id = "insert" parameterType="Board">
	insert into board(title, writer, content) values(#{title},#{writer},#{content})
</insert>

<!-- 모든 글 가져오기 -->
<!-- 
개발자가 resultType 에 DTO 를 명시해야만 select 절에 들어있는 컬럼의 값을 이 DTO에 자동으로 채워준다.
이렇듯 DB의 칼럼과 Java 객체간의 데이터 매핑을 자동으로 해주는 mybatis 같은 프레임웍을 가리켜 hibernate, JPA - ORM / Mybatis - SQL Mapper
주의) select 쿼리 실행 후 반환되는 레코드가 여러건일 경우
mybatis 는 자동으로 java.util을 내부적으로 생성하고, resultType 으로 지정한 DTO를 List 에 자동으로 채워넣는다.
따라서 개발자는 아래의 id를 호출한 후 반환받는 데이터가 List 이다.
 -->
<select id="selectAll" resultType="Board">
	select board_id, title, writer, content, regdate, hit
	from board order by board_id desc
</select>

<!-- 게시물 1건 가져오기 
	select 문에 의한 레코드 반환 수가 1건 일때는 List가 반환되지 않는다.
	대신 1건의 레코드를 담은 DTO가 반환된다.
-->
<select id="select" parameterType="int" resultType = "Board">
	select board_id, title, writer, content, regdate, hit
	from board where board_id=#{board_id}
</select>

<!-- 게시물 1 건 삭제 -->
<delete id="delete" parameterType="int">
	delete from board where board_id=#{board_id}
</delete>

<!-- 게시물 1건 수정 -->
<update id="update" parameterType="Board">
	update board set title=#{title}, writer=#{writer}, content=#{content}
	where board_id=#{board_id}
</update>

</mapper>





